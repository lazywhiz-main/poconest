        .timeline-items {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .timeline-item {<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POCONEST - Notifications & Activity</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #0f0f23;
            color: #e2e8f0;
            line-height: 1.4;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* 共通コンポーネント */
        .btn {
            padding: 8px 16px;
            border: 1px solid #333366;
            border-radius: 2px;
            background: #1a1a2e;
            color: #e2e8f0;
            font-size: 12px;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn:hover {
            background: #333366;
            transform: translateY(-1px);
        }

        .btn.primary {
            background: #00ff88;
            color: #0f0f23;
            border-color: #00ff88;
        }

        .btn.primary:hover {
            background: #00cc6a;
            border-color: #00cc6a;
        }

        .btn.small {
            padding: 4px 8px;
            font-size: 10px;
        }

        /* デモボタン */
        .demo-controls {
            display: flex;
            gap: 16px;
            margin-bottom: 30px;
            justify-content: center;
        }

        /* 通知センターモーダル */
        .notification-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 15, 35, 0.8);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .notification-modal.show {
            display: flex;
        }

        .modal-container {
            background: #1a1a2e;
            border: 1px solid #333366;
            border-radius: 8px;
            width: 95%;
            max-width: 1000px;
            height: 85vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            background: #333366;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #45475a;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 600;
            color: #e2e8f0;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-close {
            background: none;
            border: none;
            color: #a6adc8;
            font-size: 18px;
            cursor: pointer;
            padding: 4px;
            border-radius: 2px;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: #45475a;
            color: #e2e8f0;
        }

        .notification-filters {
            background: #1a1a2e;
            padding: 16px 20px;
            border-bottom: 1px solid #333366;
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-label {
            font-size: 11px;
            font-weight: 600;
            color: #6c7086;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-group {
            display: flex;
            gap: 6px;
        }

        .filter-btn {
            padding: 6px 12px;
            border: 1px solid #333366;
            border-radius: 2px;
            background: #0f0f23;
            color: #a6adc8;
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-btn:hover {
            background: #333366;
        }

        .filter-btn.active {
            background: #00ff88;
            color: #0f0f23;
            border-color: #00ff88;
        }

        .notification-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .notification-list {
            width: 350px;
            background: #0f0f23;
            border-right: 1px solid #333366;
            overflow-y: auto;
        }

        .notification-item {
            padding: 16px;
            border-bottom: 1px solid #333366;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .notification-item:hover {
            background: #1a1a2e;
        }

        .notification-item.selected {
            background: #1a1a2e;
            border-left: 3px solid #00ff88;
        }

        .notification-item.unread {
            background: rgba(0, 255, 136, 0.02);
        }

        .notification-item.unread::before {
            content: '';
            position: absolute;
            top: 16px;
            left: 12px;
            width: 6px;
            height: 6px;
            background: #00ff88;
            border-radius: 50%;
        }

        .notification-item.unread .notification-header {
            margin-left: 16px;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .notification-title {
            font-size: 13px;
            font-weight: 600;
            color: #e2e8f0;
            line-height: 1.3;
        }

        .notification-time {
            font-size: 10px;
            color: #6c7086;
            font-family: 'JetBrains Mono', monospace;
            flex-shrink: 0;
            margin-left: 8px;
        }

        .notification-preview {
            font-size: 11px;
            color: #a6adc8;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .notification-tags {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
        }

        .notification-tag {
            background: #333366;
            color: #a6adc8;
            padding: 2px 6px;
            border-radius: 2px;
            font-size: 9px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .notification-tag.ai {
            background: #00ff88;
            color: #0f0f23;
        }

        .notification-tag.urgent {
            background: #ff6b6b;
            color: white;
        }

        .notification-detail {
            flex: 1;
            background: #1a1a2e;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .detail-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #6c7086;
            font-size: 14px;
            text-align: center;
        }

        .detail-header {
            margin-bottom: 20px;
            border-bottom: 1px solid #333366;
            padding-bottom: 16px;
        }

        .detail-title {
            font-size: 18px;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 8px;
        }

        .detail-meta {
            display: flex;
            gap: 16px;
            font-size: 11px;
            color: #6c7086;
            font-family: 'JetBrains Mono', monospace;
        }

        .detail-content {
            color: #a6adc8;
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .detail-actions {
            display: flex;
            gap: 8px;
            margin-top: auto;
            padding-top: 16px;
            border-top: 1px solid #333366;
        }

        /* アクティビティログページ */
        .activity-page {
            display: none;
        }

        .activity-page.active {
            display: block;
        }

        .page-header {
            background: #1a1a2e;
            border: 1px solid #333366;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 30px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: #e2e8f0;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .page-subtitle {
            font-size: 13px;
            color: #6c7086;
            font-family: 'JetBrains Mono', monospace;
        }

        .activity-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #1a1a2e;
            border: 1px solid #333366;
            border-radius: 4px;
            padding: 20px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            border-color: #45475a;
            transform: translateY(-1px);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #00ff88;
            margin-bottom: 4px;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            font-size: 11px;
            color: #6c7086;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .activity-tabs {
            background: #1a1a2e;
            border: 1px solid #333366;
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 0;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .filter-section {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .activity-content {
            background: #1a1a2e;
            border: 1px solid #333366;
            border-top: none;
            border-radius: 0 0 8px 8px;
            min-height: 500px;
        }

        .time-filter {
            padding: 16px 20px;
            background: #0f0f23;
            border-bottom: 1px solid #333366;
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .activity-timeline {
            padding: 20px;
        }

        .timeline-section {
            margin-bottom: 30px;
        }

        .timeline-title {
            font-size: 14px;
            font-weight: 600;
            color: #00ff88;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timeline-items {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .timeline-item {
            background: #0f0f23;
            border: 1px solid #333366;
            border-radius: 4px;
            padding: 16px;
            display: flex;
            gap: 16px;
            transition: all 0.2s ease;
        }

        .timeline-item:hover {
            border-color: #45475a;
            transform: translateY(-1px);
        }

        .timeline-item.hidden {
            display: none;
        }

        .timeline-icon {
            width: 32px;
            height: 32px;
            background: #333366;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .timeline-icon.extraction {
            background: #00ff88;
        }

        .timeline-icon.analysis {
            background: #6366f1;
        }

        .timeline-icon.insights {
            background: #f59e0b;
        }

        .timeline-icon.recommendations {
            background: #ec4899;
        }

        .timeline-icon.ai-system {
            background: linear-gradient(135deg, #00ff88, #6366f1);
        }

        .timeline-content {
            flex: 1;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .timeline-action {
            font-size: 13px;
            font-weight: 600;
            color: #e2e8f0;
        }

        .timeline-time {
            font-size: 10px;
            color: #6c7086;
            font-family: 'JetBrains Mono', monospace;
        }

        .timeline-description {
            font-size: 11px;
            color: #a6adc8;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .timeline-metadata {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .timeline-meta-item {
            background: #333366;
            color: #a6adc8;
            padding: 2px 6px;
            border-radius: 2px;
            font-size: 9px;
            font-weight: 500;
            text-transform: uppercase;
        }

        /* レスポンシブ */
        @media (max-width: 768px) {
            .modal-container {
                width: 100%;
                height: 100vh;
                border-radius: 0;
            }

            .notification-content {
                flex-direction: column;
            }

            .notification-list {
                width: 100%;
                height: 50%;
            }

            .notification-detail {
                height: 50%;
            }

            .activity-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .activity-tabs {
                border-radius: 4px 4px 0 0;
            }

            .activity-content {
                border-radius: 0 0 4px 4px;
            }

            .timeline-item {
                flex-direction: column;
                gap: 8px;
            }

            .timeline-icon {
                align-self: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- デモコントロール -->
        <div class="demo-controls">
            <button class="btn primary" onclick="showNotificationModal()">
                🔔 Open Notification Center
            </button>
            <button class="btn" onclick="showActivityPage()">
                📊 View Activity Log
            </button>
        </div>

        <!-- 通知センターモーダル -->
        <div class="notification-modal" id="notificationModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h2 class="modal-title">
                        🔔 Notification Center
                    </h2>
                    <button class="modal-close" onclick="hideNotificationModal()">×</button>
                </div>

                <div class="notification-filters">
                    <span class="filter-label">Status:</span>
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="unread">Unread</button>
                        <button class="filter-btn" data-filter="read">Read</button>
                    </div>

                    <span class="filter-label">NEST:</span>
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="all-nests">All</button>
                        <button class="filter-btn" data-filter="research">Research</button>
                        <button class="filter-btn" data-filter="project">Project</button>
                    </div>

                    <span class="filter-label">Type:</span>
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="all-types">All</button>
                        <button class="filter-btn" data-filter="ai">AI Insights</button>
                        <button class="filter-btn" data-filter="mention">Mentions</button>
                        <button class="filter-btn" data-filter="system">System</button>
                    </div>
                </div>

                <div class="notification-content">
                    <div class="notification-list">
                        <div class="notification-item unread selected" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">New AI Insight Discovered</div>
                                <div class="notification-time">2m ago</div>
                            </div>
                            <div class="notification-preview">
                                AIが「マーケティング戦略」と「顧客フィードバック」の間に新しい関係性を発見しました...
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag ai">AI</span>
                                <span class="notification-tag">insight</span>
                            </div>
                        </div>

                        <div class="notification-item unread" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">Meeting Summary Updated</div>
                                <div class="notification-time">15m ago</div>
                            </div>
                            <div class="notification-preview">
                                「週次戦略会議」のサマリーが更新され、3つの新しいアクションアイテムが追加されました...
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag">meeting</span>
                                <span class="notification-tag">summary</span>
                            </div>
                        </div>

                        <div class="notification-item" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">@alice mentioned you</div>
                                <div class="notification-time">1h ago</div>
                            </div>
                            <div class="notification-preview">
                                「@bob この分析結果について確認してもらえますか？」
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag">mention</span>
                                <span class="notification-tag">urgent</span>
                            </div>
                        </div>

                        <div class="notification-item" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">Knowledge Graph Expanded</div>
                                <div class="notification-time">2h ago</div>
                            </div>
                            <div class="notification-preview">
                                17個の新しいコンセプトが知識グラフに追加され、関係性マップが更新されました...
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag ai">AI</span>
                                <span class="notification-tag">knowledge</span>
                            </div>
                        </div>

                        <div class="notification-item" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">System Backup Completed</div>
                                <div class="notification-time">6h ago</div>
                            </div>
                            <div class="notification-preview">
                                定期バックアップが正常に完了しました。すべてのNESTデータが安全に保存されています。
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag">system</span>
                                <span class="notification-tag">backup</span>
                            </div>
                        </div>

                        <div class="notification-item unread" onclick="selectNotification(this)">
                            <div class="notification-header">
                                <div class="notification-title">Urgent: Security Alert</div>
                                <div class="notification-time">8h ago</div>
                            </div>
                            <div class="notification-preview">
                                新しいログイン試行が検出されました。確認してください。
                            </div>
                            <div class="notification-tags">
                                <span class="notification-tag urgent">urgent</span>
                                <span class="notification-tag">security</span>
                            </div>
                        </div>
                    </div>

                    <div class="notification-detail">
                        <div class="detail-placeholder">
                            通知を選択して詳細を表示
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- アクティビティログページ -->
        <div class="activity-page" id="activityPage">
            <div class="page-header">
                <h1 class="page-title">Activity Log</h1>
                <p class="page-subtitle">Your comprehensive activity timeline and analytics</p>
            </div>

            <div class="activity-stats">
                <div class="stat-card">
                    <div class="stat-value">247</div>
                    <div class="stat-label">AI Analyses</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">38</div>
                    <div class="stat-label">Insights Generated</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">156</div>
                    <div class="stat-label">Relationships Found</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">92%</div>
                    <div class="stat-label">Auto-Extract Success</div>
                </div>
            </div>

            <div class="activity-tabs">
                <div class="filter-section">
                    <span class="filter-label">AI Activity Type:</span>
                    <div class="filter-group">
                        <button class="filter-btn active" data-ai-filter="all" onclick="filterAIActivity(this)">All AI</button>
                        <button class="filter-btn" data-ai-filter="extraction" onclick="filterAIActivity(this)">Knowledge Extraction</button>
                        <button class="filter-btn" data-ai-filter="analysis" onclick="filterAIActivity(this)">Relationship Analysis</button>
                        <button class="filter-btn" data-ai-filter="insights" onclick="filterAIActivity(this)">Insight Generation</button>
                        <button class="filter-btn" data-ai-filter="recommendations" onclick="filterAIActivity(this)">AI Recommendations</button>
                        <button class="filter-btn" data-ai-filter="ai-system" onclick="filterAIActivity(this)">System Optimization</button>
                    </div>
                </div>
            </div>

            <div class="activity-content">
                <div class="time-filter">
                    <span class="filter-label">Period:</span>
                    <button class="filter-btn active" data-period="today">Today</button>
                    <button class="filter-btn" data-period="yesterday">Yesterday</button>
                    <button class="filter-btn" data-period="week">This Week</button>
                    <button class="filter-btn" data-period="month">This Month</button>
                </div>

                <div class="activity-timeline">
                    <!-- 統合タイムライン：全ての AI アクティビティ -->
                    <div class="timeline-item" data-ai-type="insights">
                        <div class="timeline-icon insights">💡</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">AI Insight Generated</div>
                                <div class="timeline-time">14:23:07 - Today</div>
                            </div>
                            <div class="timeline-description">
                                「マーケティング戦略」と「顧客フィードバック」間の新しい関係性を発見。ユーザー満足度向上の3つの具体策を提案
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">confidence: 87%</span>
                                <span class="timeline-meta-item">3 recommendations</span>
                                <span class="timeline-meta-item">cross-nest insight</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="extraction">
                        <div class="timeline-icon extraction">📤</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Knowledge Extraction Completed</div>
                                <div class="timeline-time">13:45:12 - Today</div>
                            </div>
                            <div class="timeline-description">
                                Slack #strategy チャンネルから23件のメッセージを分析。15の新しい概念と8つのアクションアイテムを抽出
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">23 messages</span>
                                <span class="timeline-meta-item">15 concepts</span>
                                <span class="timeline-meta-item">8 action items</span>
                                <span class="timeline-meta-item">strategy nest</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="analysis">
                        <div class="timeline-icon analysis">🔍</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Relationship Analysis Updated</div>
                                <div class="timeline-time">12:30:45 - Today</div>
                            </div>
                            <div class="timeline-description">
                                知識グラフを更新し、「プロダクト開発」NEST内で47の新しい関係性を発見。重要度の高い12の関連性を特定
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">47 relationships</span>
                                <span class="timeline-meta-item">12 high-priority</span>
                                <span class="timeline-meta-item">product development</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="recommendations">
                        <div class="timeline-icon recommendations">🎯</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">AI Recommendations Generated</div>
                                <div class="timeline-time">11:15:33 - Today</div>
                            </div>
                            <div class="timeline-description">
                                会議録の分析結果に基づき、プロジェクト優先度の再調整を推奨。リソース配分の最適化案を5つ提示
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">priority adjustment</span>
                                <span class="timeline-meta-item">5 optimization plans</span>
                                <span class="timeline-meta-item">resource allocation</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="extraction">
                        <div class="timeline-icon extraction">📤</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Document Auto-Processing</div>
                                <div class="timeline-time">10:42:18 - Today</div>
                            </div>
                            <div class="timeline-description">
                                「Q1戦略レビュー.pdf」を自動処理。32のキーポイントと18の数値データを抽出し、知識ベースに統合
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">pdf document</span>
                                <span class="timeline-meta-item">32 key points</span>
                                <span class="timeline-meta-item">18 metrics</span>
                                <span class="timeline-meta-item">auto-integrated</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="ai-system">
                        <div class="timeline-icon ai-system">🤖</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">AI Model Optimization</div>
                                <div class="timeline-time">09:30:22 - Today</div>
                            </div>
                            <div class="timeline-description">
                                あなたの使用パターンに基づいてAIモデルを最適化。抽出精度が12%向上し、処理速度が18%改善
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">+12% accuracy</span>
                                <span class="timeline-meta-item">+18% speed</span>
                                <span class="timeline-meta-item">model optimization</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="insights">
                        <div class="timeline-icon insights">💡</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Cross-NEST Pattern Recognition</div>
                                <div class="timeline-time">16:42:18 - Yesterday</div>
                            </div>
                            <div class="timeline-description">
                                3つのNEST間で共通パターンを発見。「顧客体験」「プロダクト機能」「売上データ」の相関関係を特定し、改善提案を生成
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">3-nest correlation</span>
                                <span class="timeline-meta-item">pattern recognition</span>
                                <span class="timeline-meta-item">improvement proposals</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="analysis">
                        <div class="timeline-icon analysis">🔍</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Sentiment Analysis Completed</div>
                                <div class="timeline-time">14:28:09 - Yesterday</div>
                            </div>
                            <div class="timeline-description">
                                顧客フィードバック87件のセンチメント分析を実行。ポジティブ62%、ネガティブ23%、中立15%。改善優先領域を3つ特定
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">87 feedbacks</span>
                                <span class="timeline-meta-item">62% positive</span>
                                <span class="timeline-meta-item">3 priority areas</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="extraction">
                        <div class="timeline-icon extraction">📤</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Meeting Intelligence Applied</div>
                                <div class="timeline-time">10:00:00 - Yesterday</div>
                            </div>
                            <div class="timeline-description">
                                デイリースタンドアップの音声を分析し、7つの決定事項、5つのブロッカー、3つのリスクを自動検出・分類
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">voice analysis</span>
                                <span class="timeline-meta-item">7 decisions</span>
                                <span class="timeline-meta-item">5 blockers</span>
                                <span class="timeline-meta-item">3 risks</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="recommendations">
                        <div class="timeline-icon recommendations">🎯</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Predictive Recommendations</div>
                                <div class="timeline-time">08:15:44 - Yesterday</div>
                            </div>
                            <div class="timeline-description">
                                過去のデータパターンに基づき、今後2週間のプロジェクト進行予測を実行。潜在的な遅延リスク2件を事前警告
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">2-week prediction</span>
                                <span class="timeline-meta-item">2 risk alerts</span>
                                <span class="timeline-meta-item">predictive analysis</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="analysis">
                        <div class="timeline-icon analysis">🔍</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Knowledge Graph Expansion</div>
                                <div class="timeline-time">15:30:12 - 2 days ago</div>
                            </div>
                            <div class="timeline-description">
                                複数のデータソースを統合し、知識グラフに89の新しいノードと127の関係性を追加。概念間の接続密度が34%向上
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">89 new nodes</span>
                                <span class="timeline-meta-item">127 relationships</span>
                                <span class="timeline-meta-item">+34% density</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="extraction">
                        <div class="timeline-icon extraction">📤</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Batch Document Processing</div>
                                <div class="timeline-time">09:15:33 - 2 days ago</div>
                            </div>
                            <div class="timeline-description">
                                15個のPDFファイルを一括処理し、142の新しい概念を抽出。自動カテゴリ分類により、既存の知識体系に効率的に統合
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">15 documents</span>
                                <span class="timeline-meta-item">142 concepts</span>
                                <span class="timeline-meta-item">auto-categorized</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item" data-ai-type="ai-system">
                        <div class="timeline-icon ai-system">📈</div>
                        <div class="timeline-content">
                            <div class="timeline-header">
                                <div class="timeline-action">Weekly AI Performance Report</div>
                                <div class="timeline-time">Weekly Summary</div>
                            </div>
                            <div class="timeline-description">
                                今週のAI活動: 247回の分析実行、38の新しい洞察生成、156の関係性発見。知識グラフが23%拡張され、ユーザーの生産性が31%向上
                            </div>
                            <div class="timeline-metadata">
                                <span class="timeline-meta-item">247 analyses</span>
                                <span class="timeline-meta-item">38 insights</span>
                                <span class="timeline-meta-item">156 relationships</span>
                                <span class="timeline-meta-item">+31% productivity</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 通知センター関連
        function showNotificationModal() {
            document.getElementById('notificationModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function hideNotificationModal() {
            document.getElementById('notificationModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function selectNotification(element) {
            // 既存の選択を削除
            document.querySelectorAll('.notification-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // 新しい選択を追加
            element.classList.add('selected');
            element.classList.remove('unread');
            
            // 詳細ビューを更新
            updateNotificationDetail(element);
        }

        function updateNotificationDetail(notificationElement) {
            const title = notificationElement.querySelector('.notification-title').textContent;
            const time = notificationElement.querySelector('.notification-time').textContent;
            const preview = notificationElement.querySelector('.notification-preview').textContent;
            const tags = Array.from(notificationElement.querySelectorAll('.notification-tag')).map(tag => tag.textContent);
            
            const detailContainer = document.querySelector('.notification-detail');
            
            const detailContent = `
                <div class="detail-header">
                    <h3 class="detail-title">${title}</h3>
                    <div class="detail-meta">
                        <span>Time: ${time}</span>
                        <span>Tags: ${tags.join(', ')}</span>
                        <span>Status: Read</span>
                    </div>
                </div>
                <div class="detail-content">
                    ${preview}
                    <br><br>
                    <strong>詳細情報:</strong><br>
                    この通知に関する追加の情報がここに表示されます。関連するNESTやファイル、関係するユーザーなどの詳細データを含みます。
                    <br><br>
                    <strong>推奨アクション:</strong><br>
                    • この洞察を関連するNESTに追加<br>
                    • チームメンバーと共有<br>
                    • 詳細分析を実行<br>
                </div>
                <div class="detail-actions">
                    <button class="btn small">Mark as Read</button>
                    <button class="btn small">Share</button>
                    <button class="btn small">Add to NEST</button>
                    <button class="btn small primary">Take Action</button>
                </div>
            `;
            
            detailContainer.innerHTML = detailContent;
        }

        // フィルター機能
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const group = this.parentElement;
                group.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // フィルター処理（デモ用）
                console.log(`Filter applied: ${this.dataset.filter || this.dataset.period}`);
            });
        });

        // アクティビティページ関連
        function showActivityPage() {
            document.getElementById('activityPage').classList.add('active');
            hideNotificationModal();
        }

        function hideActivityPage() {
            document.getElementById('activityPage').classList.remove('active');
        }

        // AI活動フィルタリング
        function filterAIActivity(filterElement) {
            const aiType = filterElement.dataset.aiFilter;
            
            // フィルターボタンの状態更新
            document.querySelectorAll('[data-ai-filter]').forEach(btn => {
                btn.classList.remove('active');
            });
            filterElement.classList.add('active');
            
            // アクティビティアイテムのフィルタリング
            const timelineItems = document.querySelectorAll('.timeline-item[data-ai-type]');
            
            timelineItems.forEach(item => {
                const itemType = item.dataset.aiType;
                let shouldShow = true;
                
                if (aiType !== 'all') {
                    shouldShow = itemType === aiType;
                }
                
                if (shouldShow) {
                    item.classList.remove('hidden');
                } else {
                    item.classList.add('hidden');
                }
            });
            
            console.log(`AI Activity filtered by: ${aiType}`);
        }

        // 時間フィルター
        document.querySelectorAll('[data-period]').forEach(btn => {
            btn.addEventListener('click', function() {
                const period = this.dataset.period;
                
                // フィルター処理（デモ用）
                const timelineItems = document.querySelectorAll('.timeline-item[data-ai-type]');
                timelineItems.forEach(item => {
                    const timeText = item.querySelector('.timeline-time').textContent.toLowerCase();
                    let shouldShow = true;
                    
                    switch(period) {
                        case 'today':
                            shouldShow = timeText.includes('today');
                            break;
                        case 'yesterday':
                            shouldShow = timeText.includes('yesterday');
                            break;
                        case 'week':
                            shouldShow = timeText.includes('today') || timeText.includes('yesterday') || timeText.includes('2 days ago') || timeText.includes('weekly');
                            break;
                        case 'month':
                            shouldShow = true; // すべて表示
                            break;
                    }
                    
                    if (shouldShow) {
                        item.classList.remove('hidden');
                    } else {
                        item.classList.add('hidden');
                    }
                });
                
                console.log(`Time period filtered: ${period}`);
            });
        });

        // ESCキーでモーダルを閉じる
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideNotificationModal();
                hideActivityPage();
            }
        });

        // 外部クリックでモーダルを閉じる
        document.getElementById('notificationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideNotificationModal();
            }
        });

        // 初期化: 最初の通知を選択
        document.addEventListener('DOMContentLoaded', function() {
            const firstNotification = document.querySelector('.notification-item');
            if (firstNotification) {
                updateNotificationDetail(firstNotification);
            }
        });

        // リアルタイム通知シミュレーション
        function simulateRealtimeNotifications() {
            setInterval(() => {
                if (Math.random() > 0.8) { // 20%の確率で新しい通知
                    addNewNotification();
                }
            }, 10000); // 10秒ごとにチェック
        }

        function addNewNotification() {
            const notifications = [
                {
                    title: "New Insight Generated",
                    preview: "AIが新しいパターンを発見しました...",
                    tags: ["ai", "insight"],
                    time: "Just now"
                },
                {
                    title: "File Upload Completed",
                    preview: "document.pdf のアップロードが完了しました...",
                    tags: ["file", "upload"],
                    time: "1m ago"
                },
                {
                    title: "Team Member Joined",
                    preview: "新しいメンバーがNESTに参加しました...",
                    tags: ["team", "member"],
                    time: "2m ago"
                }
            ];
            
            const notification = notifications[Math.floor(Math.random() * notifications.length)];
            const notificationList = document.querySelector('.notification-list');
            
            const newNotificationElement = document.createElement('div');
            newNotificationElement.className = 'notification-item unread';
            newNotificationElement.onclick = () => selectNotification(newNotificationElement);
            
            newNotificationElement.innerHTML = `
                <div class="notification-header">
                    <div class="notification-title">${notification.title}</div>
                    <div class="notification-time">${notification.time}</div>
                </div>
                <div class="notification-preview">${notification.preview}</div>
                <div class="notification-tags">
                    ${notification.tags.map(tag => `<span class="notification-tag">${tag}</span>`).join('')}
                </div>
            `;
            
            notificationList.insertBefore(newNotificationElement, notificationList.firstChild);
            
            // アニメーション効果
            newNotificationElement.style.animation = 'slideIn 0.3s ease-out';
        }

        // CSS アニメーション追加
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(-100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);

        // 初期化
        // simulateRealtimeNotifications();
    </script>
</body>
</html>